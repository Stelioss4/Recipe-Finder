 @page "/"
<PageTitle>Home</PageTitle>

<h1>Recipe Finder! ! !</h1>

<div>
    <EditForm Model="searchModel" OnValidSubmit="SearchOnGoogle">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div class="form-group">
            <label for="searchQuery">Search any recipe here! :</label>
            <br />
            <InputText id="searchQuery" class="form-control" @bind-Value="searchModel.Query" placeholder="Search Recipe!!!" />
        </div>
        <br />

        <button type="submit" class="btn btn-primary">Search</button>
    </EditForm>
</div>


@code {
    private SearchModel searchModel = new SearchModel();

    [Inject]
    private NavigationManager NavigationManager { get; set; }

    private void SearchOnGoogle()
    {
        if (!string.IsNullOrEmpty(searchModel.Query))
        {
            var encodedQuery = Uri.EscapeDataString(searchModel.Query);
            var googleSearchUrl = $"https://www.google.com/search?q={encodedQuery}";
            NavigationManager.NavigateTo(googleSearchUrl);
        }
    }

    public class SearchModel
    {
        public string Query { get; set; } = string.Empty;
    }


    private Recipe recipe = new Recipe();

}
