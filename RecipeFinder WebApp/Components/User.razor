@using Recipe_Finder
@using System.Xml.Serialization
@using System.IO

<div class="alert alert-secondary mt-4" style="border: thin solid red; margin: 5px">
    <span class="oi oi-pencil mr-2" aria-hidden="true"></span>

    <EditForm Model="@UserProfile">

        <div class="alert alert-secondary mt-4" style="border: thin solid blue; margin: 5px">
            <span class="oi oi-pencil mr-2" aria-hidden="true"></span>
            <label for="FirstName">First Name : </label><br />
            <InputText id="FirstName" @bind-Value="UserProfile.FirstName"></InputText><br />

            <label for="LastName">Last Name : </label><br />
            <InputText id="LastName" @bind-Value="UserProfile.LastName"></InputText><br />

            <label for="Email">Email : </label><br />
            <InputText type="Email" @bind-Value="UserProfile.Email"></InputText><br />

            <label for="Email">Confirm Email : </label><br />
            <InputText type="Email" @bind-Value="UserProfile.Email"></InputText><br /><br />
        </div>
        <div class="alert alert-secondary mt-4" style="border: thin solid green; margin: 5px">
            <span class="oi oi-pencil mr-2" aria-hidden="true"></span>

            <label for=" Address">Enter Your Address! :</label><br />
            <label for="Address.StreetsName">Street Name :</label><br />
            <InputText id="Address.StreetsName" @bind-Value="UserProfile.Address.StreetsName"></InputText><br />

            <label for="Address.Housenumber">House Number :</label><br />
            <InputText id="Address.Housenumber" @bind-Value="UserProfile.Address.Housenumber"></InputText><br />

            <label for="Address.PostalCode">Postal Code :</label><br />
            <InputText id="Address.PostalCode" @bind-Value="UserProfile.Address.PostalCode"></InputText><br />

            <label for="Address.City">City :</label><br />
            <InputText id="Address.City" @bind-Value="UserProfile.Address.City"></InputText><br /><br />

        </div>
    </EditForm>
    <button type="submit" class="btn btn-primary">Register</button>
</div>


@code {
    [Parameter]
    public string Title { get; set; }

    private UsersProfile? UserProfile { get; set; } = new UsersProfile();

    private Address? Address { get; set; } = new Address();

    private List<UsersProfile> users { get; set; } = new List<UsersProfile>();


    private void SaveUser()
    {
        if (UserProfile != null)
        {
            users.Add(UserProfile);
            DataService.SaveUser(users);
            Console.WriteLine("User saved successfully.");
        }
    }
}

    @*     <EditForm Model="UserProfile" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    private void HandleValidSubmit()
    {
    Console.WriteLine("Form submitted successfully.");
    } *@


    @* <div class="alert alert-secondary mt-4" style="border: thin solid black; margin: 5px">
    <span class="oi oi-pencil mr-2" aria-hidden="true"></span>
    <strong>@Title</strong>

    <span class="text-nowrap">
    <br />
    Please enter your First Name:
    <br />
    <input type="text" @bind="UserProfile.FirstName" />
    <br />
    Please enter your Last Name:
    <br />
    <input type="text" @bind="UserProfile.LastName" />
    <br />
    Please enter your Email:
    <br />
    <input type="email" @bind="UserProfile.Email" />
    <br />
    Please enter a Password
    <br />
    <input type="password" @bind="UserProfile.Password" />
    <br />
    Please comfirm your Password
    <br />
    <input type="password" @bind="UserProfile.Password" />
    <br />
    -------------------------------------
    <br />
    Please enter your Address

    <br />
    -------------------------------------
    <br />
    Streets Name:
    <br />
    <input type="text" @bind="UserProfile.Address.StreetsName" />
    <br />
    House number:
    <br />
    <input type="text" @bind="UserProfile.Address.Housenumber" />
    <br />
    Postal code:
    <br />
    <input type="text" @bind="UserProfile.Address.PostalCode" />
    <br />
    City:
    <br />
    <input type="text" @bind="UserProfile.Address.City" />
    <br />
    <br />
    </span>
    </div>
    *@
